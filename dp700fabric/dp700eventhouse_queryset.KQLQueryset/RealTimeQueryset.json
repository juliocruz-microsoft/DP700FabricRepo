{
  "queryset": {
    "version": "1.0.0",
    "dataSources": [
      {
        "id": "1ae2d2cd-c5af-44bf-948f-eed07800a8d6",
        "clusterUri": "",
        "type": "Fabric",
        "databaseItemId": "56020e49-fd53-a10a-4030-ab60465beefc",
        "databaseItemName": "dp700eventhouse"
      }
    ],
    "tabs": [
      {
        "id": "1183eabf-30a0-4970-889a-f7bdb8683505",
        "content": "let Neigh = 'Chelsea';\nbikes\n| where Neighbourhood == Neigh\n|order by No_Bikes desc \n|project-keep BikepointID,Street\n\n\nbikes\n| summarize count() by Neighbourhood\n|render barchart\n\n\nRawData",
        "title": "Tab",
        "dataSourceId": "1ae2d2cd-c5af-44bf-948f-eed07800a8d6"
      },
      {
        "id": "6e66b818-edc4-4371-8cf5-db9e7c657eb1",
        "content": "TransformedData",
        "title": "",
        "dataSourceId": "1ae2d2cd-c5af-44bf-948f-eed07800a8d6"
      },
      {
        "id": "f01937f6-b545-451f-81ff-658d149843b3",
        "content": ".create-or-alter function TransformRawData() {\nRawData\n| parse BikepointID with * \"BikePoints_\" BikepointID:int\n| extend BikesToBeFilled = No_Empty_Docks - No_Bikes\n| extend Action = iff(BikesToBeFilled > 0, tostring(BikesToBeFilled), \"NA\")\n }",
        "title": "",
        "dataSourceId": "1ae2d2cd-c5af-44bf-948f-eed07800a8d6"
      },
      {
        "id": "980a9fb7-1e90-416d-b7e6-7b9d0d37f496",
        "content": ".alter table TransformedData policy update\n```[{\n    \"IsEnabled\": true,\n    \"Source\": \"RawData\",\n    \"Query\": \"TransformRawData()\",\n    \"IsTransactional\": false,\n    \"PropagateIngestionProperties\": false\n}]```",
        "title": "",
        "dataSourceId": "1ae2d2cd-c5af-44bf-948f-eed07800a8d6"
      },
      {
        "id": "7f00e514-0edc-427f-aefc-60b2a92151de",
        "content": "TransformedData\n| where BikepointID > 100 and Neighbourhood == \"Chelsea\"\n| project Timestamp, No_Bikes\n| render timechart",
        "title": "",
        "dataSourceId": "1ae2d2cd-c5af-44bf-948f-eed07800a8d6"
      },
      {
        "id": "039d15cf-7be8-48a3-bc9d-60ea81c4431b",
        "content": ".create-or-alter materialized-view with (folder=\"Gold\") AggregatedData on table TransformedData\n{\n   TransformedData\n   | summarize arg_max(Timestamp,No_Bikes) by BikepointID\n}",
        "title": "",
        "dataSourceId": "1ae2d2cd-c5af-44bf-948f-eed07800a8d6"
      },
      {
        "id": "af2db789-bd83-43c9-a155-a7cd13f2b331",
        "content": "AggregatedData\n| sort by BikepointID\n| render columnchart with (ycolumns=No_Bikes,xcolumn=BikepointID)",
        "title": "",
        "dataSourceId": "1ae2d2cd-c5af-44bf-948f-eed07800a8d6"
      },
      {
        "id": "56455eb7-7c9f-44a9-a41e-2d721de922b9",
        "content": "RawData\n| summarize arg_max(Timestamp, No_Bikes,  No_Empty_Docks, Neighbourhood, Lat=todouble(Latitude), Lon=todouble(Longitude)) by BikepointID",
        "title": "",
        "dataSourceId": "1ae2d2cd-c5af-44bf-948f-eed07800a8d6"
      }
    ]
  }
}